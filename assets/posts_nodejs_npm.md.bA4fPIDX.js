import{_ as i,c as a,o as n,ak as t}from"./chunks/framework.C836Duf6.js";const d=JSON.parse('{"title":"NPM","description":"","frontmatter":{"author":"Io_oTI","date":"2024-07-12T00:00:00.000Z","publish":true,"tag":"nodejs","title":"NPM"},"headers":[],"relativePath":"posts/nodejs/npm.md","filePath":"posts/nodejs/npm.md","lastUpdated":1745747014000}'),l={name:"posts/nodejs/npm.md"};function p(h,s,e,k,r,c){return n(),a("div",null,[...s[0]||(s[0]=[t(`<p>NPM 是 JavaScript 运行时环境 Node.js 标准的软件包管理器。</p><p>主页：<a href="https://www.npmjs.com/" target="_blank" rel="noreferrer">npmjs</a></p><p>文档：<a href="https://docs.npmjs.com/" target="_blank" rel="noreferrer">npm Docs</a></p><h2 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h2><h3 id="使用命令配置-npm" tabindex="-1">使用命令配置 npm <a class="header-anchor" href="#使用命令配置-npm" aria-label="Permalink to &quot;使用命令配置 npm&quot;">​</a></h3><p>内置全局镜像：<a href="https://registry.npmjs.org" target="_blank" rel="noreferrer">https://registry.npmjs.org</a></p><p>淘宝镜像源：<a href="https://registry.npmmirror.com/" target="_blank" rel="noreferrer">https://registry.npmmirror.com</a></p><p>腾讯镜像源：<a href="http://mirrors.cloud.tencent.com/npm/" target="_blank" rel="noreferrer">http://mirrors.cloud.tencent.com/npm/</a></p><p>华为云镜像源：<a href="https://mirrors.huaweicloud.com/repository/npm/" target="_blank" rel="noreferrer">https://mirrors.huaweicloud.com/repository/npm/</a></p><p>使用以下命令可将 registry 配置为淘宝镜像源：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 显示所有配置设置。使用-l也可以显示默认值。使用--json以json格式显示设置。</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> config</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 配置 npm 的默认镜像源</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> config</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> set</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> registry=https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 从所有配置文件中删除指定的密钥。</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> config</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> delete</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> &lt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">key</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> |</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> [</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">key, ...</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">]</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span></span></code></pre></div><h3 id="使用-npmrc-文件配置-npm" tabindex="-1">使用 npmrc 文件配置 npm <a class="header-anchor" href="#使用-npmrc-文件配置-npm" aria-label="Permalink to &quot;使用 npmrc 文件配置 npm&quot;">​</a></h3><p>文档: <a href="https://docs.npmjs.com/cli/v9/configuring-npm/npmrc" target="_blank" rel="noreferrer">npmrc | npm Docs (npmjs.com)</a></p><p><code>npmrc</code> 是 npm 的配置文件。npm 可以从命令行、环境变量和 <code>npmrc</code> 文件中获取其配置设置。<code>npm config</code> 命令可用于更新和编辑用户和全局 <code>npmrc</code> 文件的内容。</p><p>所有 npm 配置文件都是 ini 格式的 key = value 参数列表。可以使用 <code>\${VARIABLE_NAME}</code> 替换环境变量。例如：</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 使用系统环境变量</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">prefix</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> =</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> \${HOME}/.npm-packages</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 配置 npm 的默认镜像源</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">registry</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> =</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> &quot;https://registry.npmmirror.com&quot;</span></span></code></pre></div><p>npm 获取配置顺序（降序）：</p><ul><li>每个项目的配置文件 （/path/to/my/project/.npmrc）</li><li>每用户配置文件 （~/.npmrc）</li><li>全局配置文件 （$PREFIX/etc/npmrc）</li><li>npm 内置配置文件 （/path/to/npm/npmrc）</li></ul><h2 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to &quot;命令&quot;">​</a></h2><p>文档: <a href="https://docs.npmjs.com/cli/v9/commands" target="_blank" rel="noreferrer">CLI Commands | npm Docs (npmjs.com)</a></p><p>使用 help 命令查看所有可用命令：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> help</span></span></code></pre></div><h3 id="备忘录" tabindex="-1">备忘录 <a class="header-anchor" href="#备忘录" aria-label="Permalink to &quot;备忘录&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 查看已安装软件包</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> ls</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> &lt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">pkg-nam</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">e</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 查看全局已安装软件包 - 列出第0层</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> ls</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> -g</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> --depth</span><span style="--shiki-light:#FE640B;--shiki-dark:#FAB387;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 搜索软件包 - 指定镜像源</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> search</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> &lt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">pkg-nam</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">e</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> --registry=https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 查看软件包注册表信息</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> viwe</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> &lt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">pkg-nam</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">e</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 安装软件包 - 指定镜像源</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> install</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> &lt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">pkg-nam</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">e</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> --registry=https://registry.npmmirror.com</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 卸载软件包</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> uninstall</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;"> &lt;</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">pkg-nam</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">e</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 忽略依赖安装</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> install</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> phantomjs-prebuilt@2.1.14</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> --ignore-scripts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 重置缓存运行</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> start</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> --</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> --reset-cache</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 强制清除缓存</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> cache</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> clean</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> --force</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"># 重新构建软件包</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-light-font-style:italic;--shiki-dark:#89B4FA;--shiki-dark-font-style:italic;">npm</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;"> rebuild</span></span></code></pre></div><h2 id="npx" tabindex="-1">Npx <a class="header-anchor" href="#npx" aria-label="Permalink to &quot;Npx&quot;">​</a></h2><p>文档: <a href="https://docs.npmjs.com/cli/v9/commands/npx" target="_blank" rel="noreferrer">npx | npm Docs (npmjs.com)</a></p><p>从本地或远程 npm 包运行命令。此命令允许您从 npm 包（本地安装或远程获取）运行任意命令，上下文与通过运行 类似 npm run 。</p>`,27)])])}const g=i(l,[["render",p]]);export{d as __pageData,g as default};
