import{_ as i,c as a,o as t,ak as n}from"./chunks/framework.C836Duf6.js";const o=JSON.parse('{"title":"优先级（Specificity）","description":"","frontmatter":{"author":"Io_oTI","date":"2023-10-26T00:00:00.000Z","publish":true,"tag":"css","title":"优先级（Specificity）"},"headers":[],"relativePath":"posts/web/css/specificity.md","filePath":"posts/web/css/specificity.md","lastUpdated":1742979040000}'),p={name:"posts/web/css/specificity.md"};function l(e,s,h,k,c,d){return t(),a("div",null,[...s[0]||(s[0]=[n(`<p>假设使用的是以下 HTML 和 CSS：</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-l1ESR" id="tab-iv4K5vJ" checked><label data-title="html" for="tab-iv4K5vJ">html</label><input type="radio" name="group-l1ESR" id="tab-t4RrDj5"><label data-title="css" for="tab-t4RrDj5">css</label></div><div class="blocks"><div class="language-html vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">button</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;"> class</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">&quot;branding&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">Hello, Specificity!</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">button</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span></span></code></pre></div><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">button</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;">branding</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> blue</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div></div></div><p>这里有两条相互竞争的规则。 一个按钮将按钮设置为红色，另一个将按钮设置为蓝色。哪项规则会应用于此元素？ 了解 CSS 规范关于优先级的算法是了解 CSS 如何在竞争规则之间作出决定的关键。</p><p>优先级是级联的四个不同阶段之一，在最后一个有关级联的单元中进行了介绍。</p><h2 id="优先级评分" tabindex="-1">优先级评分 <a class="header-anchor" href="#优先级评分" aria-label="Permalink to &quot;优先级评分&quot;">​</a></h2><p>每条选择器规则都会获得一个评分。 可以将优先级视为一个总分，每种选择器类型都会获得相应分数。 得分最高的选择器胜出。</p><p>鉴于真实项目的优先级，平衡措施是确保预期应用的 CSS 规则确实确实适用，同时通常会降低得分以避免复杂性。分数只应尽可能高，而不是力求达到最高分数。未来，我们可能会应用一些真正更重要的 CSS。 如果要获得最高分，那么要付出的努力会非常困难。</p><h2 id="对每种选择器类型进行评分" tabindex="-1">对每种选择器类型进行评分 <a class="header-anchor" href="#对每种选择器类型进行评分" aria-label="Permalink to &quot;对每种选择器类型进行评分&quot;">​</a></h2><p>每类选择器都能获得积分。 将所有点相加即可计算选择器的整体优先级。</p><table tabindex="0"><thead><tr><th style="text-align:left;">选择器类型</th><th>优先级点</th></tr></thead><tbody><tr><td style="text-align:left;">通用选择器</td><td>0</td></tr><tr><td style="text-align:left;">元素或伪元素选择器</td><td>1</td></tr><tr><td style="text-align:left;">类、伪类或属性选择器</td><td>10</td></tr><tr><td style="text-align:left;">ID 选择器</td><td>100</td></tr><tr><td style="text-align:left;">行内样式</td><td>1000</td></tr><tr><td style="text-align:left;">!important</td><td>10000</td></tr></tbody></table><h3 id="通用选择器" tabindex="-1">通用选择器 <a class="header-anchor" href="#通用选择器" aria-label="Permalink to &quot;通用选择器&quot;">​</a></h3><p>通用选择器 <code>*</code> 没有优先级，可获得 0 分。也就是说，任何包含 1 个或多个点的规则会覆盖</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">*</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h3 id="元素或伪元素选择器" tabindex="-1">元素或伪元素选择器 <a class="header-anchor" href="#元素或伪元素选择器" aria-label="Permalink to &quot;元素或伪元素选择器&quot;">​</a></h3><p>元素（类型）或伪元素选择器获得 1 个优先级。</p><p>元素选择器</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">div</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><p>伪元素选择器</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">::</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;">selection</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h3 id="类、伪类或属性选择器" tabindex="-1">类、伪类或属性选择器 <a class="header-anchor" href="#类、伪类或属性选择器" aria-label="Permalink to &quot;类、伪类或属性选择器&quot;">​</a></h3><p>类、伪类或属性选择器具有 10 个优先级点。</p><p>类选择器</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;">my-class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><p>伪类选择器</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">hover</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><p>属性选择器</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">[</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;">href</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">&#39;#&#39;</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">]</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><p>:not() 伪类本身对优先级计算没有任何影响。不过，作为参数传入的选择器确实会添加到优先级计算中。</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">div</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">:</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">not</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">(.</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;">my-class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">)</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h3 id="id-选择器" tabindex="-1">ID 选择器 <a class="header-anchor" href="#id-选择器" aria-label="Permalink to &quot;ID 选择器&quot;">​</a></h3><p>只要使用 ID 选择器 (#myID) 而不是属性选择器 ([id=&quot;myID&quot;])，ID 选择器就可获得 100 个优先级点。</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">#</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;">myID</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h3 id="内嵌样式属性" tabindex="-1">内嵌样式属性 <a class="header-anchor" href="#内嵌样式属性" aria-label="Permalink to &quot;内嵌样式属性&quot;">​</a></h3><p>CSS 直接应用于 HTML 元素的 style 属性，则会获得优先级得分 1,000 分。这意味着，为了在 CSS 中替换它，必须编写一个极为具体的选择器。</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&lt;</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">div</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;"> style</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">=</span><span style="--shiki-light:#40A02B;--shiki-dark:#A6E3A1;">&quot;</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;">color: red&quot;</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;&lt;/</span><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">div</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">&gt;</span></span></code></pre></div><h3 id="important-规则" tabindex="-1">!important 规则 <a class="header-anchor" href="#important-规则" aria-label="Permalink to &quot;!important 规则&quot;">​</a></h3><p>最后，CSS 值末尾的 !important 的优先级得分为 10,000 分。这是单个项目可获得的最高优先级。</p><p>!important 规则会应用于 CSS 属性，因此整个规则中的所有内容（选择器和属性）都不会获得相同的优先级分数。</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes catppuccin-latte catppuccin-mocha vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">.</span><span style="--shiki-light:#DF8E1D;--shiki-dark:#F9E2AF;">my-class</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  color</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> red </span><span style="--shiki-light:#8839EF;--shiki-dark:#CBA6F7;">!important</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"> /* 10,000 points */</span></span>
<span class="line"><span style="--shiki-light:#1E66F5;--shiki-dark:#89B4FA;">  background</span><span style="--shiki-light:#179299;--shiki-dark:#94E2D5;">:</span><span style="--shiki-light:#4C4F69;--shiki-dark:#CDD6F4;"> white</span><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">;</span><span style="--shiki-light:#9CA0B0;--shiki-light-font-style:italic;--shiki-dark:#6C7086;--shiki-dark-font-style:italic;"> /* 10 points */</span></span>
<span class="line"><span style="--shiki-light:#7C7F93;--shiki-dark:#9399B2;">}</span></span></code></pre></div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><ul><li><a href="https://web.developers.google.cn/learn/css/specificity?hl=zh-cn" target="_blank" rel="noreferrer">Specificity | web.dev for China</a></li><li><a href="https://zhuanlan.zhihu.com/p/50322177" target="_blank" rel="noreferrer">前端杂谈: CSS 权重 (Specificity)</a></li></ul>`,41)])])}const g=i(p,[["render",l]]);export{o as __pageData,g as default};
